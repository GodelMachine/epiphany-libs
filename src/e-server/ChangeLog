2014-01-28  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* src/main.cpp (initPlatform): Created from code to initialize in
	main function.
	(main): Remove initialization code into initPlatform.

2014-01-27  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* src/main.cpp (ThreadData, createGdbServer): Deleted.
	(main): Remove mainRetStatus, create a single port GdbServer.

2014-01-27  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* src/main.cpp: Include sstream.
	(platform_args): Deleted (replaced by platformArgs local to main.
	(show_memory_map): Deleted (replaced by doShowMemoryMap) local to
	main.
	(showMemoryMap): Created, based on code previously in main.
	(main): Make declaration of hdf_file local and change to hdfFile,
	make arg check use if-then-else structure, use stringstream to
	parse -Wpl, move code to show memory map to its own routine.

2014-01-27  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* Release/src/subdir.mk: Add CPPFLAGS to command line.
	* src/RspConnection.cpp (rspConnect): Add mutex around listen
	error message and report error details.
	* src/main.cpp: Make explicit which functions using applies to.
	(copyrightStr): Move as literal to copyright
	function.
	(revision): Delete and replace by defined value.
	(XDOREVSTR, DOREVSTR, REVSTR): New macros.
	(usage): Rewritten to include all options and remove all terminal
	specific control codes, takes argument to specify output stream.
	(usage_hidden): Deleted.
	(copyright): Unified to print all information consistently, using
	supplied revision string.
	(main): Return success if printing version or help, remove
	--help-hidden, replace usage and usage_hidden by usage with either
	cout or cerr as parameters, don't use designated initializer for
	ThreadData, since not standard C++ (C99 only).

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* src/GdbServer.cpp (GdbServer): Pass haltOnAttach, ttyOut and
	withTtySupport flags to constructor, rather than as global variables.
	* src/GdbServer.h: New prototype for constructor, haltOnAttach,
	ttyOut and withTtySupport as member variables.
	* src/TargetControlHardware.cpp: Move e-xml and e-hal header
	includes to header file
	(TargetControlHardware): Pass in dontCheckHwAddress flag to
	constructor rather than as global variable.
	(initHwPlatform): New static member function rather than global.
	(initDefaultMemoryMap): New static member function rather than global.
	* src/TargetControlHardware.h: Add e-xml and e-hal header
	includes, update constructor prototype, new static functions
	initHwPlatform and initDefaultMemoryMap
	* src/main.cpp: haltOnAttach, ttyOut, withTtySupport and
	dontCheckHwAddress passed through relevant
	constructors. initHwPlatform and initDefaultMemoryMap as static
	member functions.
	(ThreadData): Struct for data to be used with pthread_create.

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* Release/src/subdir.mk: Removed e_printf.c
	* src/e_printf.c: Deleted.
	* src/GdbServer.cpp (printWrapper): Created, based on
	printf_wrapper.
	* src/GdbServer.h (printfWrapper): New private member function
	replacing the global printf_wrapper.

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* Release/src/subdir.mk: Renamed targetCntrlHardware as
	TargetControlHardware.
	* src/TargetControl.h: Renamed from targetCntrl.h for consistency.
	* src/TargetControlHardware.cpp: Renamed from
	targetCntrlHardware.cpp for consistency.
	* src/TargetControlHardware.h: Renamed from
	targetCntrlHardware.h for consistency.
	* src/GdbServer.h: Changed all references to targetCtrl to
	TargetControl.
	* src/TargetControl.h: Likewise.
	* src/TargetControlHardware.cpp: Likewise.
	* src/TargetControlHardware.h: Likewise.
	* src/main.cpp: Likewise.

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* GdbServer.cpp: Replace SystemC types throughout.
	(GdbServer): Move constructor to this file from header.
	(is32BitsInstr): Made member function, replacing global Is32BitsInstr.
	(getfield, setfield): Made member functions, replacing global
	equivalents.
	(getAttachedTargetCoreId): Implementation moved here from
	definition file.
	* GdbServer.h: Remove all SystemC typedefs, replacing by the
	equivalent inttypes.h entry. Consolidate public and private member
	functions for clarity, move constructor to implementation file
	from definition file, make global functions member functions.
	(GdbServer): Implementation moved to implementation file.
	(getAttachedTargetCoreId): Made private and renamed from
	GetAttachedTargetCoreId, implementation moved to implementation
	file.
	(releaseGdbCmdSelectedCoreId): Made private and renamed from
	ReleaseGdbCmdSelectedCoreId.
	* targetCntrl.h: Get rid of typedefs for SystemC types, and
	replace with inttypes througout.
	* targetCntrlHardware.cpp: Likewise.
	* targetCntrlHardware.h: Likewise.

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* Release/src/subdir.mk: Remove unneeded Gdbservercreate and rename
	GdbServerSC as GdbServer.
	* GdbServer.cpp: Renamed from GdbServerSC.cpp and all references
	internally updated.
	* GdbServer.h: Renamed from GdbServerSC.h and all references
	internally updated.
	* GdbserverCreate.cpp: Deleted
	* libgloss_syscall.h: Header comment change.
	* main.cpp: Incorporate GdbserverCreate and change reference to
	GdbServer from GdbServerSC.
	(createGdbServer): Renamed from CreateGdbServer.

2014-01-12  Jeremy Bennett  <jeremy.bennett@embecosm.com>

	* ChangeLog: Created.
	* Release/src/subdir.mk: Make stricter in error testing.
	* src/GdbServerSC.cpp: Return to GNU style, and enforce for emacs
	to facilitate comparision against upstream codebase.
	* src/GdbServerSC.h: Likewise.
	* src/GdbserverCreate.cpp: Likewise.
	* src/LoaderServer.h: Likewise.
	* src/MpHash.cpp: Likewise.
	* src/MpHash.h: Likewise.
	* src/RspConnection.cpp: Likewise.
	* src/RspConnection.h: Likewise.
	* src/RspPacket.cpp: Likewise.
	* src/RspPacket.h: Likewise.
	* src/Utils.cpp: Likewise.
	* src/Utils.h: Likewise.
	* src/debugVerbose.h: Likewise.
	* src/e_printf.cpp: Likewise.
	* src/libgloss_syscall.h: Likewise.
	* src/maddr_defs.h: Likewise.
	* src/main.cpp: Likewise.
	* src/targetCntrl.h: Likewise.
	* src/targetCntrlHardware.cpp: Likewise.
	* src/targetCntrlHardware.h: Likewise.
	* src/target_param.h: Likewise.
